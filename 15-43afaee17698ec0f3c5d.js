(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"07cb":function(t){t.exports=JSON.parse('{"venues":[{"id":"headquarter","name":"Headquarter","picture":"headquarter","size":300},{"id":"bologna","name":"Bologna","picture":"planet1","size":200},{"id":"milano","name":"Milano","picture":"planet1","size":200},{"id":"cremona","name":"Cremona","picture":"planet2","size":100},{"id":"piacenza","name":"Piacenza","picture":"planet2","size":100},{"id":"tenerife","name":"Tenerife","picture":"planet2","size":100}]}')},"6Z9k":function(t){t.exports=JSON.parse('{"data":{"headquarter":{"childImageSharp":{"fluid":{"src":"/static/65c0b9c8c1927cef9b45a07301dfd7d0/ec9fc/cpship.png","presentationHeight":606,"presentationWidth":605}}},"planet1":{"childImageSharp":{"fluid":{"src":"/static/dfedf83eb54ac5335380369239ca7e33/ee604/planet1.png","presentationHeight":800,"presentationWidth":800}}},"planet2":{"childImageSharp":{"fluid":{"src":"/static/7d37e297f618ab52e3d40a028f441951/10803/planet2.png","presentationHeight":273,"presentationWidth":273}}},"font":{"publicURL":"/static/53a17088024b346c54ca3e5bf8cc15ee/barlow_condensed.ttf"}}}')},HVR6:function(t,e,i){t.exports=i.p+"static/barlow_condensed-53a17088024b346c54ca3e5bf8cc15ee.ttf"},Ly4A:function(t,e,i){"use strict";i.r(e);i("a1Th"),i("Btvt"),i("XfO3"),i("HEwt"),i("rGqo"),i("rE2o"),i("ioFf"),i("bHtr"),i("f3/d");var n=i("6Z9k"),r=i("q1tI"),o=i.n(r),a=i("ixhd"),s=i.n(a),c=i("07cb"),u=i("HVR6"),h=i.n(u),d=function(){function t(t,e,i,n,r,o){this.planetName=e,this.planetId=t,this.coordinates={x:i,y:n},this.size=r,this.img=o,this.xDirection=Math.random()>.5?1:-1,this.yDirection=Math.random()>.5?1:-1}var e=t.prototype;return e.nextCoordinates=function(){return{x:this.coordinates.x+this.xDirection,y:this.coordinates.y+this.yDirection}},e.setCoordinates=function(t){this.coordinates=t},e.getCenter=function(){var t=Math.floor(this.size/2);return{x:this.coordinates.x+t,y:this.coordinates.y+t}},e.invertDirection=function(t){switch(t){case"x":this.xDirection=-1*this.xDirection;break;case"y":this.yDirection=-1*this.yDirection;break;default:this.xDirection=-1*this.xDirection,this.yDirection=-1*this.yDirection}},e.fixMovement=function(t){var e=this.nextCoordinates(),i=e.x,n=e.y;t.isHorizontalOutside(e.x,this.size)&&(this.invertDirection("x"),i=this.coordinates.x),t.isVerticalOutside(e.y,this.size)&&(this.invertDirection("y"),n=this.coordinates.y),this.setCoordinates({x:i,y:n})},t}(),f=function(){function t(t,e,i){this.width=e,this.height=i,this.p5=t}var e=t.prototype;return e.isHorizontalOutside=function(t,e){return t>this.width-e||t<0},e.isVerticalOutside=function(t,e){return t>this.height-e||t<0},e.detectCollision=function(t,e){var i=t.getCenter(),n=e.getCenter();return this.p5.dist(i.x,i.y,n.x,n.y)<=Math.floor(t.size/2)+Math.floor(e.size/2)},e.leftSide=function(t){return t.getCenter().x<this.width/2},t}();function l(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}e.default=function(){var t,e,i=[],r=window.innerWidth<769,a=r?12:16,u=r?60:100,p=r?22:26,x=n.data;return o.a.createElement(s.a,{preload:function(n){var r=n.min(1600,window.innerWidth-40),o=n.min(1e3,window.innerHeight-200);t=new f(n,r,o);var a=c.venues;e=n.loadFont(h.a);var s=0,u=a.reduce((function(t,e){return t+e.size+30}),0),p=u<r?1:u/r,y=u>r?10:Math.floor((r-u)/a.length);i=a.reduce((function(t,e){var i=x[e.picture];if(i){var r=i.childImageSharp.fluid.src,a=n.loadImage(r),c=Math.floor(e.size/p),u=n.random(0,o-c),h=new d(e.id,e.name,s,u,c,a);return s=s+c+y,[].concat(l(t),[h])}return t}),[])},setup:function(i,n){i.createCanvas(t.width,t.height).parent(n),i.frameRate(30),i.textFont(e)},draw:function(n){n.background(255),n.noFill(),n.stroke(217,50,50),n.strokeWeight(3),i.forEach((function(e,r){e.fixMovement(t);for(var o=r+1;o<i.length;o++){var a=i[r],s=i[o];t.detectCollision(a,s)&&(a.invertDirection(),s.invertDirection());var c=(h=s,d=void 0,f=void 0,d=(u=a).getCenter(),f=h.getCenter(),{x1:d.x,y1:d.y,x2:d.x+u.size,y2:d.y+u.size,x3:f.x-h.size,y3:f.y-h.size,x4:f.x,y4:f.y});n.bezier(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3,c.x4,c.y4)}var u,h,d,f})),n.textSize(a),n.strokeWeight(1),i.forEach((function(t){var e=t.coordinates,i=e.x,r=e.y;n.image(t.img,i,r,t.size,t.size)})),i.forEach((function(i){var o=i.getCenter(),s={x:o.x,y:o.y};t.leftSide(i)?s.x=o.x+i.size/2-(r?0:40):s.x=o.x-i.size/2-(r?u:60);var c=e.textBounds(i.planetName,s.x,s.y,a);n.stroke(0),n.fill(0),"headquarter"===i.planetId&&(n.stroke(217,50,50),n.fill(217,50,50)),n.rect(c.x,c.y,u,p),n.stroke(255),n.fill(255),n.text(i.planetName,s.x+(u-c.w)/2,s.y+(p-c.h)/2)}))}})}},OGtf:function(t,e,i){var n=i("XKFU"),r=i("eeVq"),o=i("vhPU"),a=/"/g,s=function(t,e,i,n){var r=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}}}]);
//# sourceMappingURL=15-43afaee17698ec0f3c5d.js.map