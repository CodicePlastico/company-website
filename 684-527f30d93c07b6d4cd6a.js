"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[684],{6684:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var n=r(7294),i=r(462),o=r.n(i),a=function(){function t(t,e){this.width=t,this.height=e}var e=t.prototype;return e.isHorizontalOutside=function(t,e){return t>this.width-e||t<0},e.isVerticalOutside=function(t,e){return t>this.height-e||t<0},e.leftSide=function(t){return t.getCenter().x<this.width/2},t}(),s=function(){function t(t,e,r,n,i,o,a,s,u,c,h){this.id=t,this.name=e,this.coordinates={x:r,y:n},this.size=i,this.img=o,this.tags=a,this.nick=s,this.description=u,this.role=c,this.social=h}var e=t.prototype;return e.getCenter=function(){var t=Math.floor(this.size/2);return{x:this.coordinates.x+t,y:this.coordinates.y+t}},e.setNewCenter=function(t,e){var r=Math.floor(this.size/2),n=t-r,i=e-r;this.coordinates={x:n,y:i}},t}(),u=r(8767),c=function(t){var e=(0,n.useState)([]),r=e[0],i=e[1],c=(0,n.useState)(),h=c[0],l=c[1],f=(0,n.useState)(),d=f[0],g=f[1],m=(0,n.useState)(100),v=m[0],w=m[1],y=(0,n.useState)(!1),p=y[0],x=y[1],C=(0,n.useState)(),k=C[0],z=C[1],M=(0,n.useState)(),S=M[0],b=M[1],E=t.team,W=t.categories,_=function(t,e){for(var r=e,n=1;r*n<t;)r=e*++n;return{mainSize:r,lowSize:n}},D=function(t,e,n){var i=L(t);e.strokeWeight(i.strokeWeight);var o=i.color,a=o.r,s=o.g,u=o.b;e.stroke(a,s,u);var c=r.filter((function(e){return e.tags&&e.tags.includes(t)})).map((function(t){return t.getCenter()}));c.forEach((function(t,r){var o=c[r+1];o&&n.drawingContext&&("dash"===i.style?n.drawingContext.setLineDash([5,10]):n.drawingContext.setLineDash([]),e.line(t.x,t.y,o.x,o.y))}))},L=function(t){switch(t.toLowerCase()){case"frontend":return{color:{r:255,g:255,b:255},strokeWeight:2,style:"line"};case"design":return{color:{r:0,g:0,b:0},strokeWeight:2,style:"dash"};case"management":return{color:{r:255,g:255,b:255},strokeWeight:2,style:"dash"};default:return{color:{r:0,g:0,b:0},strokeWeight:2,style:"line"}}},N=function(t,e,n){var i=t.max(h.width,h.height),o=null;return r.forEach((function(r){var a=r.getCenter(),s=t.dist(a.x,a.y,e,n);s<Math.floor(r.size/2)&&s<i&&(i=s,o=r)})),o},q=k&&k.coordinates.x>Math.floor(h.width/2),H=function(t){if(k){var e=k.coordinates.y;return t?{top:e,right:h.width-k.coordinates.x}:{top:e,left:k.coordinates.x+k.size}}return{}}(q);return n.createElement("div",{className:"cp-team__list"},n.createElement(o(),{preload:function(t){var e=t.min(1200,window.innerWidth-40),r=t.min(1e3,window.innerHeight-200),n=function(t,e,r,n){var i=0,o=0,a=0;if(t>e){a=Math.floor(t/e);var s=_(r,a);o=s.mainSize,i=s.lowSize}else{a=Math.floor(e/t);var u=_(r,a);o=u.lowSize,i=u.mainSize}for(var c=Math.floor(t/i),h=Math.floor(e/o),l=n.min(c,h),f=[],d=0;d<i;d++)for(var g=0;g<o;g++){var m=d*c+Math.floor(c/2)+Math.floor(n.random(-20,21)),v=g*h+Math.floor(h/2)+Math.floor(n.random(-20,21));f.push({x:m,y:v})}return{squareSize:l,centers:f}}(e,r,E.length,t),o=Math.floor(n.squareSize/1.5),u=Math.floor(o/2);w(o),l(new a(e,r));var c=function(t){for(var e=t.slice(),r=e.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),i=[e[n],e[r]];e[r]=i[0],e[n]=i[1]}return e}(n.centers).slice(0,E.length).map((function(e,r){var n=E[r],i=t.loadImage(n.img),a=e.x,c=e.y;return new s(n.id,n.name,a-u,c-u,o,i,n.tags,n.nick,n.description,n.role,n.social)}));i(c)},draw:function(e){!function(e,r){var n=t.currentCategory;e.background(217,50,50),e.noFill(),"Tutti"!=n?D(n,e,r):W.forEach((function(t){D(t,e,r)}))}(e,d),function(t,e){e.drawingContext.setLineDash([]),t.stroke(0,0,0),E.forEach((function(e){var n=r.find((function(t){return t.id===e.id}));if(n){var i=n.getCenter();t.ellipse(i.x,i.y,n.size+2),t.image(n.img,n.coordinates.x,n.coordinates.y,n.size,n.size)}}))}(e,d)},setup:function(t,e){var r=t.createCanvas(h.width,h.height).parent(e);g(r),t.frameRate(30)},mouseDragged:function(t){x(!0);var e=t.mouseX,r=t.mouseY,n=Math.floor(v),i=e>n?e<h.width-n?e:h.width-n:n,o=r>n?r<h.height-n?r:h.height-n:n;if(e===i||r===o){if(p)S&&S.setNewCenter(i,o);else{var a=N(t,i,o);a&&(a.setNewCenter(i,o),b(a))}return!1}},mouseReleased:function(){setTimeout((function(){b(null),x(!1)}))},mouseClicked:function(t){var e=t.mouseX,r=t.mouseY,n=N(t,e,r);n&&!p&&(k&&k.id===n.id?z(null):z(n))}}),k&&n.createElement(u.Z,{visible:!!k,right:q,memberStyle:H,member:k,handleClick:function(t){t.stopPropagation()},toggleDescription:function(){z(null)}}))}}}]);
//# sourceMappingURL=684-527f30d93c07b6d4cd6a.js.map