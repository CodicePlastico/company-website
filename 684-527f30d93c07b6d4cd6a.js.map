{"version":3,"file":"684-527f30d93c07b6d4cd6a.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/team/teamCanvas.ts","webpack://gatsby-starter-default/./src/components/team/memberCanvas.ts","webpack://gatsby-starter-default/./src/components/team/teamRelations.tsx"],"sourcesContent":["class TeamCanvas {\n  width: number\n  height: number\n\n  constructor(width: number, height: number) {\n    this.width = width\n    this.height = height\n  }\n\n  isHorizontalOutside(x: number, size: number): boolean {\n    return x > this.width - size || x < 0\n  }\n\n  isVerticalOutside(y: number, size: number): boolean {\n    return y > this.height - size || y < 0\n  }\n\n  leftSide(planet) {\n    const center = planet.getCenter()\n    return (center.x < (this.width / 2))\n  }\n}\n\nexport default TeamCanvas","import p5Types from 'p5'\nimport { Coordinates, Channel } from './model'\n\nclass MemberCanvas {\n  id: string\n  name: string\n  coordinates: Coordinates\n  size: number\n  img: p5Types.Image\n  tags: string[]\n  nick: string\n  description: string\n  role: string\n  social: Channel[]\n\n  constructor(\n    memberId: string, \n    memberName: string, \n    x: number, \n    y: number, \n    size: number, \n    img: p5Types.Image, \n    tags: string[],\n    nick: string,\n    description: string,\n    role: string,\n    social: Channel[]\n  ) {\n    this.id = memberId\n    this.name = memberName\n    this.coordinates = { x, y}\n    this.size = size\n    this.img = img\n    this.tags = tags\n    this.nick = nick\n    this.description = description\n    this.role = role \n    this.social = social\n  }\n\n  getCenter(): Coordinates {\n    const halfSize = Math.floor(this.size / 2)\n    return {\n      x: this.coordinates.x + halfSize,\n      y: this.coordinates.y + halfSize,\n    }\n  }\n\n  setNewCenter(mouseX, mouseY) {\n    const halfSize = Math.floor(this.size / 2)\n    const x = mouseX - halfSize \n    const y = mouseY - halfSize \n    this.coordinates = { x, y }\n  }\n}\n\nexport default MemberCanvas","import React, { useState } from 'react'\nimport Sketch from 'react-p5'\nimport p5Types from 'p5'\n\nimport { FullMember } from './model'\nimport TeamCanvas from './teamCanvas'\nimport MemberCanvas from './memberCanvas'\nimport MemberDescription from './memberDescription'\n\nexport interface TeamMembers {\n  team: FullMember[],\n  categories: string[]\n  currentCategory: string | null\n}\n\nconst TeamRelations = (props: TeamMembers) => {\n  const [members, setMembers] = useState([])\n  const [canvas, setCanvas] = useState<TeamCanvas>()\n  const [canvasEl, setCanvasEl] = useState()\n  const [size, setSize] = useState<number>(100)\n  const [drag, setDrag] = useState<boolean>(false) \n  const [activeMember, setActiveMember] = useState<MemberCanvas>()\n  const [draggedMember, setDraggedMember] = useState<MemberCanvas>()\n  const { team, categories } = props\n\n  const frameRate = 30\n\n  const getMainSize = (members: number, ratio: number): {mainSize: number, lowSize: number} => {\n    let mainSize = ratio;\n    let lowSize = 1;\n    while(mainSize * lowSize < members) {\n      lowSize++;\n      mainSize = ratio * lowSize;\n    }\n    return {\n      mainSize,\n      lowSize\n    }\n  }\n\n  const retrieveCenters = (width: number, height: number, members: number, p5: p5Types): {squareSize: number, centers: Coordinates[]} => {\n    let columns = 0\n    let rows = 0\n    let ratio = 0\n    if (width > height) {\n      ratio = Math.floor(width / height)\n      const sizes = getMainSize(members, ratio)\n      rows = sizes.mainSize\n      columns = sizes.lowSize\n    } else {\n      ratio = Math.floor(height / width)\n      const sizes = getMainSize(members, ratio)\n      rows = sizes.lowSize\n      columns = sizes.mainSize\n    }\n    const columnSize = Math.floor(width / columns)\n    const rowSize = Math.floor(height / rows)\n    const squareSize = p5.min(columnSize, rowSize)\n    const centers = []\n    for (let x = 0; x < columns; x++) {\n      for (let y = 0; y < rows; y++) {\n        const xCoord = x * columnSize + Math.floor(columnSize / 2) + Math.floor(p5.random(-20, 21))\n        const yCoord = y * rowSize + Math.floor(rowSize / 2) + Math.floor(p5.random(-20, 21))\n        centers.push({ x: xCoord, y: yCoord })\n      }\n    }\n    return {squareSize, centers}\n  } \n\n  const shuffleArray = (sortableArray) => {\n    const array = sortableArray.slice();\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array\n}\n  \n  const preload = (p5: p5Types) => {\n    const width = p5.min(1200, window.innerWidth - 40)\n    const height = p5.min(1000, window.innerHeight - 200)\n    const centers = retrieveCenters(width, height, team.length, p5)\n    const memberSize = Math.floor(centers.squareSize / 1.5)\n    const halfSize = Math.floor(memberSize / 2)\n    setSize(memberSize)\n    setCanvas(new TeamCanvas(width, height))\n    const coordinates = shuffleArray(centers.centers).slice(0, team.length)\n    const members = coordinates.map((c, i) => {\n      const m = team[i]\n      const p5Img = p5.loadImage(m.img)\n      const { x, y } = c\n      return new MemberCanvas(\n        m.id, \n        m.name, \n        x - halfSize, \n        y - halfSize, \n        memberSize, \n        p5Img, \n        m.tags,\n        m.nick, \n        m.description,\n        m.role,\n        m.social)\n    })\n    setMembers(members)\n  }\n\n  const setup = (p5: p5Types, canvasParentRef: Element) => {\n    const canvasEl = p5.createCanvas(canvas.width, canvas.height).parent(canvasParentRef) as unknown as any\n    setCanvasEl(canvasEl)\n    p5.frameRate(frameRate)\n  }\n\n  const drawRelations = (p5, canvasEl) => {\n    const { currentCategory } = props\n    p5.background(217, 50, 50)\n    p5.noFill()\n    if (currentCategory != 'Tutti') {\n      drawCategoryRelation(currentCategory, p5, canvasEl)\n    } else {\n      categories.forEach(c => {\n        drawCategoryRelation(c, p5, canvasEl)\n      })\n    }\n  }\n \n  const drawCategoryRelation = (category, p5, canvasEl) => {\n    const drawInfo = getLine(category)\n      p5.strokeWeight(drawInfo.strokeWeight)\n      const {r,g, b} = drawInfo.color\n      p5.stroke(r, g, b)\n      const centers = members.filter(m => {\n        return m.tags && m.tags.includes(category)\n      }).map(mb => mb.getCenter())\n      centers.forEach((c, i) => {\n        const next = centers[i + 1]\n        if (next && canvasEl.drawingContext) {\n          if (drawInfo.style === 'dash'){\n            canvasEl.drawingContext.setLineDash([5, 10]);\n          } else {\n            canvasEl.drawingContext.setLineDash([]);\n          }\n          p5.line(c.x, c.y, next.x, next.y)\n        }\n      })\n  }\n\n  const drawTeam = (p5, canvasEl) => {\n    canvasEl.drawingContext.setLineDash([]);\n    p5.stroke(0, 0, 0)\n    team.forEach(t => {\n      const m = members.find(m => m.id === t.id)\n      if(m){\n        const center = m.getCenter()\n        p5.ellipse(center.x, center.y, m.size + 2)\n        p5.image(m.img, m.coordinates.x, m.coordinates.y, m.size, m.size)\n      }\n    })\n  } \n\n  const getLine = (category: string) => {\n    switch (category.toLowerCase()){\n      case 'frontend':\n        return {\n          color: {\n            r: 255, \n            g: 255, \n            b: 255\n          },\n          strokeWeight: 2,\n          style: 'line'\n        }\n      case 'design':\n        return {\n          color: {\n            r: 0, \n            g: 0, \n            b: 0\n          },\n          strokeWeight: 2,\n          style: 'dash'\n        }\n      case 'management':\n        return {\n          color: {\n            r: 255, \n            g: 255, \n            b: 255\n          },\n          strokeWeight: 2,\n          style: 'dash'\n        }\n      default:\n        return {\n          color: {\n            r: 0, \n            g: 0, \n            b: 0\n          },\n          strokeWeight: 2,\n          style: 'line'\n        }\n    }\n  }\n\n  const draw = (p5: p5Types) => {\n    drawRelations(p5, canvasEl)\n    drawTeam(p5, canvasEl)\n  }\n\n\n  const mouseDragged = (p5: p5Types) => {\n    setDrag(true)\n    const { mouseX, mouseY } = p5\n    const halfSize = Math.floor(size)\n    const x = mouseX > halfSize ? (mouseX < (canvas.width - halfSize) ? mouseX : canvas.width - halfSize) : halfSize\n    const y = mouseY > halfSize ? (mouseY < (canvas.height - halfSize) ? mouseY : canvas.height - halfSize) : halfSize\n    if (mouseX === x || mouseY === y) {\n      if (drag) {\n        if (draggedMember) {\n          draggedMember.setNewCenter(x, y)\n        }\n      } else {  \n        const member = getActiveElement(p5, x, y)\n        if (member) {\n          member.setNewCenter(x, y)\n          setDraggedMember(member)\n        }\n      }\n    return false\n    } \n  }\n\n  const mouseReleased = () => {\n    setTimeout(() => {\n      setDraggedMember(null)\n      setDrag(false)\n    })\n  }\n\n  const mouseClicked = (p5: p5Types) => {\n    const { mouseX, mouseY } = p5\n    const member = getActiveElement(p5, mouseX, mouseY)\n    if (member && !drag) {\n      if (!activeMember || activeMember.id !== member.id) {\n        setActiveMember(member)\n      } else {\n        setActiveMember(null)\n      }\n    }\n  }\n\n  const getActiveElement = (p5: p5Types, x, y) => {\n    let minDist = p5.max(canvas.width, canvas.height) \n    let member = null\n    members.forEach(m => {\n      const center = m.getCenter()\n      const dist = p5.dist(center.x, center.y, x, y)\n      const halfSize = Math.floor(m.size / 2)\n      if (dist < halfSize && dist < minDist) {\n        minDist = dist\n        member = m\n      }\n    })\n    return member\n  }\n\n  const rightActiveMember = activeMember && (activeMember.coordinates.x > (Math.floor(canvas.width / 2)))\n\n  const getMemberStyle = (right: boolean) => {\n    if (activeMember) {\n      const top = activeMember.coordinates.y\n      if (right) {\n        return {\n          top,\n          right: canvas.width - activeMember.coordinates.x\n        }\n      } else {\n        return {\n          top,\n          left: activeMember.coordinates.x + activeMember.size\n        }\n      }\n    } else {\n      return {}\n    }\n  }\n\n  const memberStyle = getMemberStyle(rightActiveMember)\n\n  const toggleDescription = () => {\n    setActiveMember(null)\n  } \n\n  const handleClick = (event) => {\n    event.stopPropagation();\n  }\n\n  return (\n    <div className=\"cp-team__list\">\n      <Sketch \n        preload={preload} \n        draw={draw} \n        setup={setup} \n        mouseDragged={mouseDragged} \n        mouseReleased={mouseReleased} \n        mouseClicked={mouseClicked} />\n      {activeMember && <MemberDescription visible={!!activeMember} right={rightActiveMember} memberStyle={memberStyle}\n          member={activeMember} handleClick={handleClick} toggleDescription={toggleDescription} />}\n    </div>\n  )\n}\n\nexport default TeamRelations"],"names":["width","height","this","isHorizontalOutside","x","size","isVerticalOutside","y","leftSide","planet","getCenter","memberId","memberName","img","tags","nick","description","role","social","id","name","coordinates","halfSize","Math","floor","setNewCenter","mouseX","mouseY","props","useState","members","setMembers","canvas","setCanvas","canvasEl","setCanvasEl","setSize","drag","setDrag","activeMember","setActiveMember","draggedMember","setDraggedMember","team","categories","getMainSize","ratio","mainSize","lowSize","drawCategoryRelation","category","p5","drawInfo","getLine","strokeWeight","color","r","g","b","stroke","centers","filter","m","includes","map","mb","forEach","c","i","next","drawingContext","style","setLineDash","line","toLowerCase","getActiveElement","minDist","max","member","center","dist","rightActiveMember","memberStyle","right","top","left","getMemberStyle","React","className","Sketch","preload","min","window","innerWidth","innerHeight","columns","rows","sizes","columnSize","rowSize","squareSize","xCoord","random","yCoord","push","retrieveCenters","length","memberSize","TeamCanvas","sortableArray","array","slice","j","shuffleArray","p5Img","loadImage","MemberCanvas","draw","currentCategory","background","noFill","drawRelations","t","find","ellipse","image","drawTeam","setup","canvasParentRef","createCanvas","parent","frameRate","mouseDragged","mouseReleased","setTimeout","mouseClicked","MemberDescription","visible","handleClick","event","stopPropagation","toggleDescription"],"sourceRoot":""}