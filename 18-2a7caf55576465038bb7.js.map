{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/new-promise-capability.js","webpack:///./src/assets/venues/barlow_condensed.ttf","webpack:///./src/components/venues/planet.ts","webpack:///./src/components/venues/universe.ts","webpack:///./src/components/venues/venues.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/native-promise-constructor.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js"],"names":["anObject","isObject","newPromiseCapability","module","exports","C","x","constructor","promiseCapability","f","resolve","promise","aFunction","SPECIES","wellKnownSymbol","O","defaultConstructor","S","undefined","PromiseCapability","reject","this","$$resolve","$$reject","TypeError","Planet","planetId","planetName","startX","startY","size","img","coordinates","y","xDirection","Math","random","yDirection","nextCoordinates","setCoordinates","coords","getCenter","halfSize","floor","invertDirection","axis","fixMovement","universe","nextCoords","isHorizontalOutside","isVerticalOutside","Universe","p5","width","height","detectCollision","planet1","planet2","firstCenter","secondCenter","dist","leftSide","planet","Venues","font","planets","mobile","window","innerWidth","fontSize","fontBgWidth","fontBgHeight","files","useStaticQuery","preload","universeWidth","min","universeHeight","innerHeight","venues","data","loadFont","fontFile","planetsSize","reduce","sum","ven","sizeProportion","offset","length","acc","v","queryImg","picture","fluidImg","childImageSharp","fluid","src","loadImage","id","name","setup","canvasParentRef","createCanvas","parent","frameRate","textFont","draw","background","noFill","stroke","strokeWeight","forEach","p","i","j","firstP","secondP","bC","second","first","x1","y1","x2","y2","x3","y3","x4","y4","bezier","textSize","image","center","textPosition","textBox","textBounds","fill","rect","text","w","h","fails","Object","getOwnPropertySymbols","String","Symbol","global","shared","has","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","sham","iterator","Promise","$","IS_PURE","NativePromise","getBuiltIn","speciesConstructor","promiseResolve","redefine","target","proto","real","forced","prototype","call","then","onFinally","isFunction","e","$hypot","hypot","abs","sqrt","stat","Infinity","NaN","value1","value2","arg","div","aLen","arguments","larg"],"mappings":"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","file":"18-2a7caf55576465038bb7.js","sourcesContent":["var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = __webpack_public_path__ + \"static/barlow_condensed-53a17088024b346c54ca3e5bf8cc15ee.ttf\";","import p5Types from 'p5'\r\nimport { Coordinates, Axis } from './model'\r\n\r\nclass Planet {\r\n  planetId: string\r\n  planetName: string\r\n  coordinates: Coordinates\r\n  size: number\r\n  img: p5Types.Image\r\n  xDirection: number;\r\n  yDirection: number;\r\n\r\n  constructor(planetId: string, planetName: string, startX: number, startY: number, size: number, img: p5Types.Image) {\r\n    this.planetName = planetName\r\n    this.planetId = planetId,\r\n    this.coordinates = {x: startX, y: startY}\r\n    this.size = size\r\n    this.img = img\r\n    this.xDirection = Math.random() > 0.5 ? 1 : -1;\r\n    this.yDirection = Math.random() > 0.5 ? 1 : -1;\r\n  }\r\n\r\n  nextCoordinates(): Coordinates {\r\n    const x = this.coordinates.x + this.xDirection\r\n    const y = this.coordinates.y + this.yDirection\r\n    return {x, y}\r\n  }\r\n\r\n  setCoordinates(coords: Coordinates) {\r\n    this.coordinates = coords;\r\n  }\r\n\r\n  getCenter(): Coordinates {\r\n    const halfSize = Math.floor(this.size / 2)\r\n    return {x: this.coordinates.x + halfSize, y: this.coordinates.y + halfSize}\r\n  }\r\n\r\n  invertDirection(axis?: Axis) {\r\n    switch (axis) {\r\n      case 'x':\r\n        this.xDirection = -1 * this.xDirection\r\n        break;\r\n      case 'y':\r\n        this.yDirection = -1 * this.yDirection\r\n        break;\r\n      default:\r\n        this.xDirection = -1 * this.xDirection\r\n        this.yDirection = -1 * this.yDirection\r\n    }\r\n  }\r\n\r\n  fixMovement(universe) {\r\n    const nextCoords = this.nextCoordinates();\r\n    let x = nextCoords.x\r\n    let y = nextCoords.y\r\n    if (universe.isHorizontalOutside(nextCoords.x, this.size)) {\r\n      this.invertDirection('x')\r\n      x = this.coordinates.x\r\n    }\r\n    if (universe.isVerticalOutside(nextCoords.y, this.size)) {\r\n      this.invertDirection('y')\r\n      y = this.coordinates.y\r\n    }\r\n    this.setCoordinates({x, y})\r\n\r\n  }\r\n}\r\n\r\nexport default Planet","import Planet from \"./planet\"\r\nimport p5Types from 'p5'\r\n\r\nclass Universe {\r\n  width: number\r\n  height: number\r\n  p5: p5Types\r\n\r\n  constructor(p5: p5Types, width: number, height: number) {\r\n    this.width = width\r\n    this.height = height\r\n    this.p5 = p5\r\n  }\r\n\r\n  isHorizontalOutside(x: number, size: number): boolean {\r\n    return x > this.width - size || x < 0\r\n  }\r\n\r\n  isVerticalOutside(y: number, size: number): boolean {\r\n    return y > this.height - size || y < 0\r\n  }\r\n\r\n  detectCollision(planet1: Planet, planet2: Planet) {\r\n    const firstCenter = planet1.getCenter()\r\n    const secondCenter = planet2.getCenter()\r\n    const dist = this.p5.dist(firstCenter.x, firstCenter.y, secondCenter.x, secondCenter.y)\r\n    const firstSize = Math.floor(planet1.size / 2)\r\n    const secondSize = Math.floor(planet2.size / 2)\r\n    const collision = dist <= (firstSize + secondSize)\r\n    return collision;\r\n  }\r\n\r\n  leftSide(planet) {\r\n    const center = planet.getCenter()\r\n    return (center.x < (this.width / 2))\r\n  }\r\n}\r\n\r\nexport default Universe","import React from 'react'\r\nimport Sketch from 'react-p5'\r\nimport p5Types from 'p5'\r\n\r\nimport data from '../../assets/venues/venues.json'\r\n\r\nimport fontFile from '../../assets/venues/barlow_condensed.ttf'\r\n\r\nimport { useStaticQuery, graphql } from 'gatsby'\r\nimport Planet from './planet'\r\nimport Universe from './universe'\r\n\r\nconst Venues: React.FC<{}> = () => {\r\n  let universe: Universe\r\n  let planets: Planet[] = []\r\n  const mobile = window.innerWidth < 769\r\n  const frameRate = 30\r\n  const fontSize = mobile ? 12 : 16\r\n  const fontBgWidth = mobile ? 60 : 100\r\n  const fontBgHeight = mobile ? 22 : 26\r\n  let font\r\n\r\n  const files = useStaticQuery(graphql`\r\n    query MyQuery {\r\n      headquarter: file(relativePath: { eq: \"venues/cpship.png\" }) {\r\n        childImageSharp {\r\n          fluid {\r\n            src\r\n            presentationHeight\r\n            presentationWidth\r\n          }\r\n        }\r\n      }\r\n      planet1: file(relativePath: { eq: \"venues/planet1.png\" }) {\r\n        childImageSharp {\r\n          fluid {\r\n            src\r\n            presentationHeight\r\n            presentationWidth\r\n          }\r\n        }\r\n      }\r\n      planet2: file(relativePath: { eq: \"venues/planet2.png\" }) {\r\n        childImageSharp {\r\n          fluid {\r\n            src\r\n            presentationHeight\r\n            presentationWidth\r\n          }\r\n        }\r\n      },\r\n      font: file(relativePath: { eq: \"venues/barlow_condensed.ttf\" }) {\r\n        publicURL\r\n      }\r\n    }`\r\n  )\r\n\r\n  const calculateBezierCoords = (first: Planet, second: Planet) => {\r\n    const firstCenter = first.getCenter()\r\n    const secondCenter = second.getCenter()\r\n    return {\r\n      x1: firstCenter.x,\r\n      y1: firstCenter.y,\r\n      x2: firstCenter.x + first.size, \r\n      y2: firstCenter.y + first.size, \r\n      x3: secondCenter.x - second.size, \r\n      y3: secondCenter.y - second.size,\r\n      x4: secondCenter.x, \r\n      y4: secondCenter.y\r\n    }\r\n  }\r\n\r\n  const preload = (p5: p5Types) => {\r\n    const universeWidth = p5.min(1600, window.innerWidth - 40)\r\n    const universeHeight = p5.min(1000, window.innerHeight - 200)\r\n    universe = new Universe(p5, universeWidth, universeHeight)\r\n    const { venues } = data \r\n    font = p5.loadFont(fontFile)\r\n    let startX = 0\r\n    const planetsSize = venues.reduce((sum, ven) => {\r\n      return sum + ven.size + 30\r\n    }, 0)\r\n    const sizeProportion = planetsSize < universeWidth ? 1 : planetsSize / universeWidth;\r\n    const offset = planetsSize > universeWidth ? 10 : Math.floor((universeWidth - planetsSize) / venues.length);\r\n    planets = venues.reduce((acc, v) => {\r\n      const queryImg = files[v.picture]\r\n      if (queryImg){\r\n        const fluidImg = queryImg.childImageSharp.fluid.src\r\n        const img = p5.loadImage(fluidImg)\r\n        const size = Math.floor(v.size / sizeProportion)\r\n        const startY = p5.random(0, universeHeight - size)\r\n        const planet = new Planet(v.id, v.name, startX, startY, size, img)\r\n        startX = startX + size + offset\r\n        return [...acc, planet]\r\n      }\r\n      return acc\r\n    }, [])\r\n  }\r\n\r\n  const setup = (p5: p5Types, canvasParentRef: Element) => {\r\n    p5.createCanvas(universe.width, universe.height).parent(canvasParentRef)\r\n    p5.frameRate(frameRate)\r\n    p5.textFont(font);\r\n  }\r\n\r\n  const draw = (p5: p5Types) => {\r\n    p5.background(255)\r\n    p5.noFill()\r\n    p5.stroke(217, 50, 50)\r\n    p5.strokeWeight(3)\r\n    planets.forEach((p, i) => {\r\n      p.fixMovement(universe)\r\n      for (let j = i + 1; j < planets.length; j++){\r\n        const firstP = planets[i];\r\n        const secondP = planets[j];\r\n        if(universe.detectCollision(firstP, secondP)) {\r\n          firstP.invertDirection()\r\n          secondP.invertDirection()\r\n        }\r\n        const bC = calculateBezierCoords(firstP, secondP)\r\n        p5.bezier(bC.x1, bC.y1, bC.x2, bC.y2, bC.x3, bC.y3, bC.x4, bC.y4);\r\n      }\r\n    })\r\n    p5.textSize(fontSize);\r\n    p5.strokeWeight(1)  \r\n    planets.forEach(p => {\r\n      const {x, y} = p.coordinates\r\n      p5.image(p.img, x, y, p.size, p.size)\r\n    })\r\n    planets.forEach(p => {\r\n      const center = p.getCenter()\r\n      let textPosition = {x: center.x, y: center.y}\r\n      if (universe.leftSide(p)){\r\n        textPosition.x = center.x + (p.size / 2) - (mobile ? 0 : 40)\r\n      } else {\r\n        textPosition.x = center.x - (p.size / 2) - (mobile ? fontBgWidth : 60)\r\n      }\r\n      const textBox = font.textBounds(p.planetName, textPosition.x, textPosition.y, fontSize);\r\n      p5.stroke(0)\r\n      p5.fill(0)\r\n      if (p.planetId === 'headquarter') {\r\n        p5.stroke(217, 50, 50)\r\n        p5.fill(217, 50, 50)\r\n      }\r\n      p5.rect(textBox.x, textBox.y, fontBgWidth, fontBgHeight);\r\n      p5.stroke(255)\r\n      p5.fill(255)\r\n      p5.text(p.planetName, textPosition.x + ((fontBgWidth - textBox.w) / 2), textPosition.y + ((fontBgHeight - textBox.h) / 2));\r\n    })\r\n  }\r\n\r\n  return <Sketch preload={preload} setup={setup} draw={draw} />\r\n}\r\n\r\nexport default Venues\r\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n"],"sourceRoot":""}